<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®ºå›é—®ç­” - ç»™å®ƒä¸€ä¸ªå®¶ï¼Œè®©çˆ±ç»ˆæ­¢æµæµª</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;500;700&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <style>
        :root {
            --primary-color: #D2691E;
            --secondary-color: #8B4513;
            --accent-color: #228B22;
            --neutral-color: #F5F5DC;
            --text-color: #2F2F2F;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, var(--neutral-color) 0%, #FFF8DC 100%);
            color: var(--text-color);
        }
        
        .hero-title {
            font-family: 'Noto Serif SC', serif;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .navbar-blur {
            backdrop-filter: blur(10px);
            background: rgba(245, 245, 220, 0.95);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(210, 105, 30, 0.3);
        }
        
        .forum-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(210, 105, 30, 0.1);
            transition: all 0.3s ease;
        }
        
        .forum-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(210, 105, 30, 0.1);
            border-color: var(--primary-color);
        }
        
        .post-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(210, 105, 30, 0.2);
            transition: all 0.3s ease;
        }
        
        .post-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(210, 105, 30, 0.1);
        }
        
        .category-tab {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .category-tab.active {
            background: var(--primary-color);
            color: white;
        }
        
        .category-tab:hover {
            background: rgba(210, 105, 30, 0.1);
        }
        
        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .expert-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .like-btn {
            transition: all 0.3s ease;
        }
        
        .like-btn:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }
        
        .like-btn.liked {
            color: var(--primary-color);
        }
        
        .reply-form {
            background: rgba(245, 245, 220, 0.5);
            border-left: 4px solid var(--primary-color);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 navbar-blur border-b border-orange-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-lg">ğŸ•</span>
                    </div>
                    <span class="text-xl font-bold text-gray-800">çˆ±çŠ¬æ•‘åŠ©</span>
                </div>
                
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-orange-600 transition-colors">é¦–é¡µ</a>
                    <a href="adoption.html" class="text-gray-700 hover:text-orange-600 transition-colors">çˆ±å¿ƒé¢†å…»</a>
                    <a href="action.html" class="text-gray-700 hover:text-orange-600 transition-colors">æˆ‘ä»¬åœ¨è¡ŒåŠ¨</a>
                    <a href="abandonment.html" class="text-gray-700 hover:text-orange-600 transition-colors">å¼ƒå…»å›¾è®°</a>
                    <a href="forum.html" class="text-orange-600 font-medium hover:text-orange-700 transition-colors">è®ºå›é—®ç­”</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="btn-primary text-white px-6 py-2 rounded-full font-medium" onclick="showPostForm()">
                        å‘å¸ƒå¸–å­
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="pt-16 pb-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="text-center">
                <h1 class="hero-title text-5xl font-bold mb-6">è®ºå›é—®ç­”</h1>
                <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                    ä¸çˆ±å¿ƒäººå£«äº¤æµæ•‘åŠ©ç»éªŒï¼Œå‘ä¸“å®¶å’¨è¯¢å…»å® é—®é¢˜ï¼Œ
                    åˆ†äº«æ‚¨çš„æ•‘åŠ©æ•…äº‹ï¼Œä¸€èµ·ä¸ºæµæµªç‹—æ•‘åŠ©äº‹ä¸šè´¡çŒ®åŠ›é‡ã€‚
                </p>
                
                <div class="grid md:grid-cols-4 gap-8 text-center">
                    <div>
                        <div class="text-3xl font-bold text-orange-600" id="total-posts">1,280</div>
                        <div class="text-sm text-gray-600">æ€»å¸–å­æ•°</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-green-600" id="active-users">856</div>
                        <div class="text-sm text-gray-600">æ´»è·ƒç”¨æˆ·</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-blue-600" id="expert-answers">342</div>
                        <div class="text-sm text-gray-600">ä¸“å®¶è§£ç­”</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-purple-600" id="success-stories">89</div>
                        <div class="text-sm text-gray-600">æˆåŠŸæ¡ˆä¾‹</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Categories -->
    <section class="pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="forum-card p-6 rounded-2xl">
                <div class="flex flex-wrap gap-3">
                    <button class="category-tab active px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="all">
                        å…¨éƒ¨
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="rescue">
                        æ•‘åŠ©ç»éªŒ
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="adoption">
                        é¢†å…»äº¤æµ
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="medical">
                        åŒ»ç–—é—®ç­”
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="training">
                        è¡Œä¸ºè®­ç»ƒ
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="help">
                        æ±‚åŠ©ä¿¡æ¯
                    </button>
                    <button class="category-tab px-4 py-2 rounded-full border border-gray-300 font-medium" data-category="share">
                        ç»éªŒåˆ†äº«
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Forum Posts -->
    <section class="py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Posts List -->
                <div class="lg:col-span-2">
                    <div id="posts-container" class="space-y-6">
                        <!-- Posts will be populated by JavaScript -->
                    </div>
                    
                    <!-- Load More -->
                    <div class="text-center mt-12">
                        <button id="load-more-btn" class="btn-primary text-white px-8 py-3 rounded-full font-medium">
                            åŠ è½½æ›´å¤š
                        </button>
                    </div>
                </div>
                
                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Hot Posts -->
                    <div class="forum-card p-6 rounded-2xl">
                        <h3 class="text-xl font-bold mb-4">çƒ­é—¨å¸–å­</h3>
                        <div class="space-y-4">
                            <div class="border-b border-gray-200 pb-3">
                                <h4 class="font-medium text-gray-800 mb-1">å¦‚ä½•å¸®åŠ©å®³æ€•äººçš„æµæµªç‹—ï¼Ÿ</h4>
                                <div class="flex items-center text-sm text-gray-500">
                                    <span>1,234 æµè§ˆ</span>
                                    <span class="mx-2">â€¢</span>
                                    <span>56 å›å¤</span>
                                </div>
                            </div>
                            <div class="border-b border-gray-200 pb-3">
                                <h4 class="font-medium text-gray-800 mb-1">æ–°æ‰‹å…»ç‹—å¿…å¤‡æ¸…å•</h4>
                                <div class="flex items-center text-sm text-gray-500">
                                    <span>987 æµè§ˆ</span>
                                    <span class="mx-2">â€¢</span>
                                    <span>43 å›å¤</span>
                                </div>
                            </div>
                            <div class="border-b border-gray-200 pb-3">
                                <h4 class="font-medium text-gray-800 mb-1">ç‹—ç‹—çš®è‚¤ç—…æ²»ç–—æ–¹æ³•åˆ†äº«</h4>
                                <div class="flex items-center text-sm text-gray-500">
                                    <span>756 æµè§ˆ</span>
                                    <span class="mx-2">â€¢</span>
                                    <span>38 å›å¤</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Experts -->
                    <div class="forum-card p-6 rounded-2xl">
                        <h3 class="text-xl font-bold mb-4">åœ¨çº¿ä¸“å®¶</h3>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <div class="user-avatar">æ</div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2">
                                        <span class="font-medium">æåŒ»ç”Ÿ</span>
                                        <span class="expert-badge">å…½åŒ»ä¸“å®¶</span>
                                    </div>
                                    <p class="text-sm text-gray-600">å·²è§£ç­” 156 ä¸ªé—®é¢˜</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="user-avatar">ç‹</div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2">
                                        <span class="font-medium">ç‹è€å¸ˆ</span>
                                        <span class="expert-badge">è®­ç»ƒå¸ˆ</span>
                                    </div>
                                    <p class="text-sm text-gray-600">å·²è§£ç­” 89 ä¸ªé—®é¢˜</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="user-avatar">å¼ </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2">
                                        <span class="font-medium">å¼ ä¹‰å·¥</span>
                                        <span class="expert-badge">æ•‘åŠ©ä¸“å®¶</span>
                                    </div>
                                    <p class="text-sm text-gray-600">å·²è§£ç­” 234 ä¸ªé—®é¢˜</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="forum-card p-6 rounded-2xl">
                        <h3 class="text-xl font-bold mb-4">å¿«é€Ÿé“¾æ¥</h3>
                        <div class="space-y-3">
                            <button class="w-full text-left p-3 rounded-lg hover:bg-orange-50 transition-colors" onclick="showPostForm('help')">
                                ğŸ†˜ å‘å¸ƒæ±‚åŠ©ä¿¡æ¯
                            </button>
                            <button class="w-full text-left p-3 rounded-lg hover:bg-orange-50 transition-colors" onclick="showPostForm('share')">
                                ğŸ’¡ åˆ†äº«æ•‘åŠ©ç»éªŒ
                            </button>
                            <button class="w-full text-left p-3 rounded-lg hover:bg-orange-50 transition-colors" onclick="window.location.href='adoption.html'">
                                ğŸ  æŸ¥çœ‹å¾…é¢†å…»ç‹—ç‹—
                            </button>
                            <button class="w-full text-left p-3 rounded-lg hover:bg-orange-50 transition-colors" onclick="window.location.href='action.html'">
                                ğŸ‘¥ å‚ä¸å¿—æ„¿æ´»åŠ¨
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-lg">ğŸ•</span>
                    </div>
                    <span class="text-2xl font-bold">çˆ±çŠ¬æ•‘åŠ©å¹³å°</span>
                </div>
                <p class="text-gray-400 mb-4">ç»™å®ƒä¸€ä¸ªå®¶ï¼Œè®©çˆ±ç»ˆæ­¢æµæµª</p>
                <p class="text-gray-500 text-sm">Â© 2024 çˆ±çŠ¬æ•‘åŠ©å¹³å°. ç”¨å¿ƒå®ˆæŠ¤æ¯ä¸€ä¸ªç”Ÿå‘½.</p>
            </div>
        </div>
    </footer>
    
    <!-- Modals -->
    <div id="post-form-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-2xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto">
            <h3 class="text-2xl font-bold mb-6 text-center">å‘å¸ƒæ–°å¸–å­</h3>
            
            <form id="post-form" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ ‡é¢˜ *</label>
                    <input type="text" id="post-title" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="è¯·è¾“å…¥å¸–å­æ ‡é¢˜">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">åˆ†ç±» *</label>
                    <select id="post-category" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        <option value="">è¯·é€‰æ‹©åˆ†ç±»</option>
                        <option value="rescue">æ•‘åŠ©ç»éªŒ</option>
                        <option value="adoption">é¢†å…»äº¤æµ</option>
                        <option value="medical">åŒ»ç–—é—®ç­”</option>
                        <option value="training">è¡Œä¸ºè®­ç»ƒ</option>
                        <option value="help">æ±‚åŠ©ä¿¡æ¯</option>
                        <option value="share">ç»éªŒåˆ†äº«</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å†…å®¹ *</label>
                    <textarea id="post-content" rows="8" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„é—®é¢˜æˆ–ç»éªŒåˆ†äº«..."></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ ‡ç­¾</label>
                    <input type="text" id="post-tags" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="è¯·è¾“å…¥æ ‡ç­¾ï¼Œç”¨ç©ºæ ¼åˆ†éš”">
                </div>
                
                <div class="flex space-x-4">
                    <button type="button" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-medium" onclick="hidePostForm()">
                        å–æ¶ˆ
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-lg font-medium">
                        å‘å¸ƒå¸–å­
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="post-detail-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-2xl max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <div id="post-detail-content">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <script>
        // è®ºå›æ•°æ®
        const forumPosts = [
            {
                id: 1,
                title: 'å¦‚ä½•å¸®åŠ©å®³æ€•äººçš„æµæµªç‹—ï¼Ÿ',
                category: 'rescue',
                author: 'çˆ±å¿ƒå¿—æ„¿è€…',
                avatar: 'çˆ±',
                content: 'æœ€è¿‘åœ¨å°åŒºå‘ç°ä¸€åªå¾ˆå®³æ€•äººçš„æµæµªç‹—ï¼Œæ¯æ¬¡é è¿‘å®ƒå°±ä¼šè·‘å¼€ã€‚æƒ³å¸®åŠ©å®ƒä½†ä¸çŸ¥é“è¯¥æ€ä¹ˆåŠï¼Œæœ‰ç»éªŒçš„æœ‹å‹èƒ½ç»™äº›å»ºè®®å—ï¼Ÿ',
                tags: ['æµæµªç‹—', 'æ•‘åŠ©æŠ€å·§', 'å¿ƒç†åˆ›ä¼¤'],
                likes: 23,
                replies: 8,
                views: 1234,
                publishTime: '2024-12-20 14:30',
                lastReply: '2024-12-20 16:45',
                isExpert: false,
                repliesList: [
                    {
                        author: 'æåŒ»ç”Ÿ',
                        avatar: 'æ',
                        content: 'å¯¹äºå®³æ€•äººçš„æµæµªç‹—ï¼Œæœ€é‡è¦çš„æ˜¯è€å¿ƒã€‚ä¸è¦å¼ºè¡Œæ¥è¿‘ï¼Œå¯ä»¥å…ˆä»è¿œå¤„æŠ•æ”¾é£Ÿç‰©å¼€å§‹ï¼Œè®©å®ƒé€æ¸ä¹ æƒ¯ä½ çš„å­˜åœ¨ã€‚',
                        isExpert: true,
                        time: '2024-12-20 15:10'
                    },
                    {
                        author: 'å¼ ä¹‰å·¥',
                        avatar: 'å¼ ',
                        content: 'å»ºè®®ç”¨é£Ÿç‰©å»ºç«‹ä¿¡ä»»å…³ç³»ï¼Œæ¯å¤©å›ºå®šæ—¶é—´åœ°ç‚¹æŠ•å–‚ï¼Œæ…¢æ…¢ç¼©çŸ­è·ç¦»ã€‚ä¸€èˆ¬éœ€è¦1-2å‘¨æ—¶é—´ã€‚',
                        isExpert: true,
                        time: '2024-12-20 15:45'
                    }
                ]
            },
            {
                id: 2,
                title: 'æ–°æ‰‹å…»ç‹—å¿…å¤‡æ¸…å•åˆ†äº«',
                category: 'share',
                author: 'å…»ç‹—è¾¾äºº',
                avatar: 'è¾¾',
                content: 'ä½œä¸ºä¸€ä¸ªå…»ç‹—5å¹´çš„è€æ‰‹ï¼Œæƒ³å’Œå¤§å®¶åˆ†äº«ä¸€äº›æ–°æ‰‹å…»ç‹—å¿…å¤‡ç‰©å“å’Œç»éªŒï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°åˆšå¼€å§‹å…»ç‹—çš„æœ‹å‹ä»¬ã€‚',
                tags: ['æ–°æ‰‹æŒ‡å¯¼', 'å…»ç‹—ç»éªŒ', 'å¿…å¤‡ç‰©å“'],
                likes: 45,
                replies: 12,
                views: 987,
                publishTime: '2024-12-19 10:20',
                lastReply: '2024-12-20 09:30',
                isExpert: false,
                repliesList: [
                    {
                        author: 'æ–°æ‰‹å°ç™½',
                        avatar: 'ç™½',
                        content: 'éå¸¸æ„Ÿè°¢åˆ†äº«ï¼æ­£å‡†å¤‡å…»ç‹—ï¼Œè¿™ä¸ªæ¸…å•å¤ªåŠæ—¶äº†ã€‚',
                        isExpert: false,
                        time: '2024-12-19 11:15'
                    }
                ]
            },
            {
                id: 3,
                title: 'ç‹—ç‹—çš®è‚¤ç—…æ²»ç–—æ–¹æ³•å’¨è¯¢',
                category: 'medical',
                author: 'æ‹…å¿ƒçš„ä¸»äºº',
                avatar: 'æ‹…',
                content: 'æˆ‘å®¶ç‹—ç‹—æœ€è¿‘çš®è‚¤å‡ºç°é—®é¢˜ï¼Œæœ‰çº¢ç–¹å’Œè„±æ¯›ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¥½çš„æ²»ç–—æ–¹æ³•å—ï¼Ÿéœ€è¦å¸¦å»å® ç‰©åŒ»é™¢å—ï¼Ÿ',
                tags: ['çš®è‚¤ç—…', 'æ²»ç–—æ–¹æ³•', 'å¥åº·å’¨è¯¢'],
                likes: 18,
                replies: 6,
                views: 756,
                publishTime: '2024-12-18 16:45',
                lastReply: '2024-12-19 20:15',
                isExpert: false,
                repliesList: [
                    {
                        author: 'æåŒ»ç”Ÿ',
                        avatar: 'æ',
                        content: 'æ ¹æ®æè¿°å¯èƒ½æ˜¯è¿‡æ•æ€§çš®ç‚æˆ–çœŸèŒæ„ŸæŸ“ã€‚å»ºè®®å…ˆå¸¦å»å® ç‰©åŒ»é™¢ç¡®è¯Šï¼Œç„¶åæ ¹æ®ç—…å› è¿›è¡Œæ²»ç–—ã€‚ä¸è¦è‡ªè¡Œç”¨è¯ã€‚',
                        isExpert: true,
                        time: '2024-12-18 17:20'
                    }
                ]
            },
            {
                id: 4,
                title: 'ç´§æ€¥æ±‚åŠ©ï¼å‘ç°å—ä¼¤æµæµªç‹—',
                category: 'help',
                author: 'è·¯äººç”²',
                avatar: 'è·¯',
                content: 'åˆšæ‰åœ¨å›å®¶è·¯ä¸Šå‘ç°ä¸€åªå—ä¼¤çš„æµæµªç‹—ï¼Œå³å‰è…¿å¥½åƒæ–­äº†ï¼Œçœ‹èµ·æ¥å¾ˆç—›è‹¦ã€‚è¯·é—®è¯¥æ€ä¹ˆåŠï¼Ÿæ€¥ï¼',
                tags: ['ç´§æ€¥æ±‚åŠ©', 'å—ä¼¤åŠ¨ç‰©', 'æ€¥æ•‘'],
                likes: 67,
                replies: 15,
                views: 1543,
                publishTime: '2024-12-17 21:30',
                lastReply: '2024-12-18 08:20',
                isExpert: false,
                repliesList: [
                    {
                        author: 'å¼ ä¹‰å·¥',
                        avatar: 'å¼ ',
                        content: 'é¦–å…ˆç¡®ä¿è‡ªèº«å®‰å…¨ï¼Œç„¶åè”ç³»å½“åœ°åŠ¨ç‰©æ•‘åŠ©æœºæ„æˆ–110ã€‚å¦‚æœç‹—ç‹—å…è®¸ï¼Œå¯ä»¥ç”¨æ¯¯å­è½»è½»åŒ…è£¹é€å¾€æœ€è¿‘çš„å® ç‰©åŒ»é™¢ã€‚',
                        isExpert: true,
                        time: '2024-12-17 21:45'
                    }
                ]
            },
            {
                id: 5,
                title: 'é¢†å…»ç‹—ç‹—åçš„é€‚åº”æœŸé—®é¢˜',
                category: 'adoption',
                author: 'æ–°ä¸»äºº',
                avatar: 'æ–°',
                content: 'ä¸Šå‘¨é¢†å…»äº†ä¸€åª2å²çš„é‡‘æ¯›ï¼Œä½†æ˜¯å›å®¶åä¸€ç›´ä¸å¤ªåƒä¸œè¥¿ï¼Œä¹Ÿå¾ˆå®‰é™ã€‚è¿™æ˜¯æ­£å¸¸çš„å—ï¼Ÿéœ€è¦å¤šä¹…æ‰èƒ½é€‚åº”ï¼Ÿ',
                tags: ['é¢†å…»é€‚åº”', 'ç‹—ç‹—è¡Œä¸º', 'æ–°ç¯å¢ƒ'],
                likes: 34,
                replies: 9,
                views: 823,
                publishTime: '2024-12-16 14:15',
                lastReply: '2024-12-17 10:30',
                isExpert: false,
                repliesList: [
                    {
                        author: 'ç‹è€å¸ˆ',
                        avatar: 'ç‹',
                        content: 'è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œç‹—ç‹—éœ€è¦1-2å‘¨é€‚åº”æ–°ç¯å¢ƒã€‚ç»™å®ƒå®‰é™çš„ç©ºé—´ï¼Œä¿æŒè§„å¾‹çš„ä½œæ¯å’Œé¥®é£Ÿï¼Œæ…¢æ…¢ä¼šå¥½èµ·æ¥çš„ã€‚',
                        isExpert: true,
                        time: '2024-12-16 15:00'
                    }
                ]
            },
            {
                id: 6,
                title: 'ç‹—ç‹—ä¹±å’¬ä¸œè¥¿æ€ä¹ˆè®­ç»ƒï¼Ÿ',
                category: 'training',
                author: 'çƒ¦æ¼çš„ä¸»äºº',
                avatar: 'çƒ¦',
                content: 'æˆ‘å®¶å°ç‹—4ä¸ªæœˆå¤§ï¼Œæœ€è¿‘ç‰¹åˆ«å–œæ¬¢å’¬å®¶å…·å’Œé‹å­ï¼Œå·²ç»å’¬åå¥½å‡ åŒäº†ã€‚æœ‰ä»€ä¹ˆå¥½çš„è®­ç»ƒæ–¹æ³•å—ï¼Ÿ',
                tags: ['è¡Œä¸ºè®­ç»ƒ', 'å’¬ä¸œè¥¿', 'å¹¼çŠ¬æ•™è‚²'],
                likes: 28,
                replies: 11,
                views: 645,
                publishTime: '2024-12-15 11:20',
                lastReply: '2024-12-16 16:45',
                isExpert: false,
                repliesList: [
                    {
                        author: 'ç‹è€å¸ˆ',
                        avatar: 'ç‹',
                        content: '4ä¸ªæœˆæ­£æ˜¯æ¢ç‰™æœŸï¼Œå’¬ä¸œè¥¿æ˜¯æ­£å¸¸çš„ã€‚æä¾›ä¸“ç”¨çš„ç£¨ç‰™ç©å…·ï¼Œå‘ç°å’¬å®¶å…·æ—¶ç«‹å³åˆ¶æ­¢å¹¶å¼•å¯¼åˆ°ç©å…·ä¸Šã€‚',
                        isExpert: true,
                        time: '2024-12-15 12:10'
                    }
                ]
            }
        ];
        
        let currentCategory = 'all';
        let filteredPosts = [...forumPosts];
        let currentPage = 1;
        const postsPerPage = 5;
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeForum();
            initializeFilters();
            renderPosts();
            initializeCounters();
        });
        
        // åˆå§‹åŒ–è®ºå›
        function initializeForum() {
            // æ»šåŠ¨æ˜¾ç¤ºæ•ˆæœ
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        anime({
                            targets: entry.target,
                            opacity: [0, 1],
                            translateY: [30, 0],
                            duration: 800,
                            easing: 'easeOutExpo'
                        });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.scroll-reveal').forEach(el => {
                observer.observe(el);
            });
        }
        
        // åˆå§‹åŒ–ç­›é€‰å™¨
        function initializeFilters() {
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    applyFilter();
                });
            });
            
            document.getElementById('load-more-btn').addEventListener('click', loadMorePosts);
        }
        
        // åº”ç”¨ç­›é€‰
        function applyFilter() {
            if (currentCategory === 'all') {
                filteredPosts = [...forumPosts];
            } else {
                filteredPosts = forumPosts.filter(post => post.category === currentCategory);
            }
            
            currentPage = 1;
            renderPosts();
        }
        
        // æ¸²æŸ“å¸–å­
        function renderPosts() {
            const container = document.getElementById('posts-container');
            const startIndex = 0;
            const endIndex = currentPage * postsPerPage;
            const postsToShow = filteredPosts.slice(startIndex, endIndex);
            
            container.innerHTML = '';
            
            postsToShow.forEach(post => {
                const postElement = createPostElement(post);
                container.appendChild(postElement);
            });
            
            // æ›´æ–°åŠ è½½æ›´å¤šæŒ‰é’®
            const loadMoreBtn = document.getElementById('load-more-btn');
            if (endIndex >= filteredPosts.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'block';
            }
        }
        
        // åˆ›å»ºå¸–å­å…ƒç´ 
        function createPostElement(post) {
            const postDiv = document.createElement('div');
            postDiv.className = 'post-card p-6 rounded-2xl cursor-pointer';
            postDiv.onclick = () => showPostDetail(post);
            
            const categoryColors = {
                rescue: 'bg-red-100 text-red-800',
                adoption: 'bg-green-100 text-green-800',
                medical: 'bg-blue-100 text-blue-800',
                training: 'bg-purple-100 text-purple-800',
                help: 'bg-yellow-100 text-yellow-800',
                share: 'bg-orange-100 text-orange-800'
            };
            
            const categoryNames = {
                rescue: 'æ•‘åŠ©ç»éªŒ',
                adoption: 'é¢†å…»äº¤æµ',
                medical: 'åŒ»ç–—é—®ç­”',
                training: 'è¡Œä¸ºè®­ç»ƒ',
                help: 'æ±‚åŠ©ä¿¡æ¯',
                share: 'ç»éªŒåˆ†äº«'
            };
            
            postDiv.innerHTML = `
                <div class="flex items-start space-x-4">
                    <div class="user-avatar">${post.avatar}</div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="font-medium">${post.author}</span>
                            ${post.isExpert ? '<span class="expert-badge">ä¸“å®¶</span>' : ''}
                            <span class="text-sm text-gray-500">${post.publishTime}</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-800 hover:text-orange-600 transition-colors">${post.title}</h3>
                        <p class="text-gray-600 mb-4 line-clamp-2">${post.content}</p>
                        <div class="flex items-center space-x-4 mb-4">
                            <span class="px-3 py-1 rounded-full text-sm ${categoryColors[post.category]}">${categoryNames[post.category]}</span>
                            <div class="flex items-center space-x-2 text-sm text-gray-500">
                                ${post.tags.map(tag => `<span class="bg-gray-100 px-2 py-1 rounded">${tag}</span>`).join('')}
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-6 text-sm text-gray-500">
                                <button class="like-btn flex items-center space-x-1 hover:text-orange-600 transition-colors" onclick="event.stopPropagation(); toggleLike(${post.id})">
                                    <span>ğŸ‘</span>
                                    <span>${post.likes}</span>
                                </button>
                                <span>ğŸ’¬ ${post.replies}</span>
                                <span>ğŸ‘ï¸ ${post.views}</span>
                            </div>
                            <span class="text-sm text-gray-400">æœ€åå›å¤: ${post.lastReply}</span>
                        </div>
                    </div>
                </div>
            `;
            
            return postDiv;
        }
        
        // åŠ è½½æ›´å¤šå¸–å­
        function loadMorePosts() {
            currentPage++;
            renderPosts();
        }
        
        // æ˜¾ç¤ºå¸–å­è¯¦æƒ…
        function showPostDetail(post) {
            const modal = document.getElementById('post-detail-modal');
            const content = document.getElementById('post-detail-content');
            
            const categoryNames = {
                rescue: 'æ•‘åŠ©ç»éªŒ',
                adoption: 'é¢†å…»äº¤æµ',
                medical: 'åŒ»ç–—é—®ç­”',
                training: 'è¡Œä¸ºè®­ç»ƒ',
                help: 'æ±‚åŠ©ä¿¡æ¯',
                share: 'ç»éªŒåˆ†äº«'
            };
            
            content.innerHTML = `
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold">${post.title}</h3>
                    <button onclick="hidePostDetail()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="mb-6">
                    <div class="flex items-center space-x-4 mb-4">
                        <div class="user-avatar">${post.avatar}</div>
                        <div>
                            <div class="flex items-center space-x-2">
                                <span class="font-medium">${post.author}</span>
                                ${post.isExpert ? '<span class="expert-badge">ä¸“å®¶</span>' : ''}
                            </div>
                            <span class="text-sm text-gray-500">${post.publishTime}</span>
                        </div>
                    </div>
                    <div class="prose max-w-none">
                        <p>${post.content}</p>
                    </div>
                </div>
                
                <div class="border-t border-gray-200 pt-6">
                    <h4 class="text-lg font-bold mb-4">å›å¤ (${post.replies})</h4>
                    <div class="space-y-4">
                        ${post.repliesList.map(reply => `
                            <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
                                <div class="user-avatar text-sm">${reply.avatar}</div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="font-medium">${reply.author}</span>
                                        ${reply.isExpert ? '<span class="expert-badge">ä¸“å®¶</span>' : ''}
                                        <span class="text-sm text-gray-500">${reply.time}</span>
                                    </div>
                                    <p class="text-gray-700">${reply.content}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="reply-form mt-6 p-4 rounded-lg">
                    <h5 class="font-bold mb-3">å‘è¡¨å›å¤</h5>
                    <textarea rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="åˆ†äº«æ‚¨çš„æƒ³æ³•..."></textarea>
                    <div class="flex justify-end mt-3">
                        <button class="btn-primary text-white px-6 py-2 rounded-lg font-medium" onclick="submitReply(${post.id})">
                            å‘è¡¨å›å¤
                        </button>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }
        
        // éšè—å¸–å­è¯¦æƒ…
        function hidePostDetail() {
            document.getElementById('post-detail-modal').classList.add('hidden');
        }
        
        // åˆ‡æ¢ç‚¹èµ
        function toggleLike(postId) {
            const post = forumPosts.find(p => p.id === postId);
            if (post) {
                post.likes += 1;
                // é‡æ–°æ¸²æŸ“å¸–å­
                renderPosts();
            }
        }
        
        // æ˜¾ç¤ºå‘å¸–è¡¨å•
        function showPostForm(category = '') {
            document.getElementById('post-form-modal').classList.remove('hidden');
            if (category) {
                document.getElementById('post-category').value = category;
            }
            anime({
                targets: '#post-form-modal .bg-white',
                scale: [0.8, 1],
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutBack'
            });
        }
        
        // éšè—å‘å¸–è¡¨å•
        function hidePostForm() {
            anime({
                targets: '#post-form-modal .bg-white',
                scale: [1, 0.8],
                opacity: [1, 0],
                duration: 200,
                easing: 'easeInBack',
                complete: function() {
                    document.getElementById('post-form-modal').classList.add('hidden');
                }
            });
        }
        
        // æäº¤å›å¤
        function submitReply(postId) {
            alert('å›å¤å‘è¡¨æˆåŠŸï¼');
            hidePostDetail();
        }
        
        // åˆå§‹åŒ–è®¡æ•°å™¨
        function initializeCounters() {
            const counters = [
                { id: 'total-posts', target: 1280, duration: 2000 },
                { id: 'active-users', target: 856, duration: 2000 },
                { id: 'expert-answers', target: 342, duration: 2000 },
                { id: 'success-stories', target: 89, duration: 2000 }
            ];
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = counters.find(c => c.id === entry.target.id);
                        if (counter) {
                            animateCounter(counter);
                            observer.unobserve(entry.target);
                        }
                    }
                });
            }, { threshold: 0.5 });
            
            counters.forEach(counter => {
                const element = document.getElementById(counter.id);
                if (element) {
                    observer.observe(element);
                }
            });
        }
        
        // æ•°å­—è®¡æ•°åŠ¨ç”»
        function animateCounter(counter) {
            const element = document.getElementById(counter.id);
            
            anime({
                targets: { count: 0 },
                count: counter.target,
                duration: counter.duration,
                easing: 'easeOutExpo',
                update: function(anim) {
                    const value = anim.animatables[0].target.count;
                    element.textContent = Math.floor(value).toLocaleString();
                }
            });
        }
        
        // è¡¨å•æäº¤å¤„ç†
        document.getElementById('post-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('post-title').value;
            const category = document.getElementById('post-category').value;
            const content = document.getElementById('post-content').value;
            const tags = document.getElementById('post-tags').value;
            
            if (!title || !category || !content) {
                alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ');
                return;
            }
            
            // åˆ›å»ºæ–°å¸–å­
            const newPost = {
                id: forumPosts.length + 1,
                title: title,
                category: category,
                author: 'å½“å‰ç”¨æˆ·',
                avatar: 'æˆ‘',
                content: content,
                tags: tags ? tags.split(' ') : [],
                likes: 0,
                replies: 0,
                views: 1,
                publishTime: new Date().toLocaleString('zh-CN'),
                lastReply: new Date().toLocaleString('zh-CN'),
                isExpert: false,
                repliesList: []
            };
            
            // æ·»åŠ åˆ°å¸–å­åˆ—è¡¨
            forumPosts.unshift(newPost);
            
            alert('å¸–å­å‘å¸ƒæˆåŠŸï¼');
            hidePostForm();
            
            // é‡ç½®è¡¨å•
            document.getElementById('post-form').reset();
            
            // é‡æ–°æ¸²æŸ“å¸–å­
            applyFilter();
        });
    </script>
</body>
</html>